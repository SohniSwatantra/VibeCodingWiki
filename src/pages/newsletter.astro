---
import AppLayout from '../layouts/AppLayout.astro';
import { NewsletterSignup } from '../components/app/NewsletterSignup.tsx';

const currentUser = Astro.locals.user;

// Redirect to login if not authenticated
if (!currentUser) {
  return Astro.redirect('/login?redirect=/newsletter');
}
---

<AppLayout
  title="VibeCoding Newsletter"
  description="Stay updated with the latest in VibeCoding"
>
  <div class="mx-auto max-w-3xl">
    <article class="rounded border border-[#a2a9b1] bg-white p-6 shadow-sm">
      <h2 class="mb-4 text-2xl font-semibold text-[#202122]">VibeCoding Newsletter</h2>
      <p class="mb-6 text-sm text-[#54595d]">
        Get the latest updates, tips, and insights about VibeCoding delivered to your inbox. Join our community of vibe coders!
      </p>

      <NewsletterSignup client:load />
    </article>
  </div>
</AppLayout>
