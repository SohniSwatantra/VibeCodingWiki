---
import AppLayout from '../../layouts/AppLayout.astro';
import { roles } from '../../data/roles.ts';
import { RoleBadge } from '../../components/wiki/RoleBadge.tsx';
---

<AppLayout title="Role permissions" description="Understand how responsibilities are distributed across Vibecodingwiki.">
  <section class="rounded border border-[#a2a9b1] bg-white p-5 shadow-sm">
    <h1 class="text-[1.75rem] font-normal text-[#202122]">Governance & access levels</h1>
    <p class="mt-2 text-sm text-[#54595d]">
      Vibecodingwiki stays healthy when every participant knows their lane. These roles map to the WorkOS auth directory and Convex
      permissions we will wire in later. Use this matrix to decide who should review what and how moderation escalations flow.
    </p>
  </section>

  <section class="mt-4 space-y-4">
    {roles.map((role) => (
      <article class="rounded border border-[#c8ccd1] bg-[#f8f9fa] p-5 shadow-sm">
        <header class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
          <div>
            <h2 class="text-lg font-semibold text-[#202122]">{role.title}</h2>
            <p class="text-sm text-[#54595d]">{role.description}</p>
          </div>
          <RoleBadge role={role.key} />
        </header>
        <ul class="mt-3 list-disc space-y-2 pl-5 text-sm text-[#202122]">
          {role.permissions.map((permission) => (
            <li>{permission}</li>
          ))}
        </ul>
      </article>
    ))}
  </section>
</AppLayout>

